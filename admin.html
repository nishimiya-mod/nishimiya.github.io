<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tersakiti</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<style type="text/css">
 /* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content/Box */
.modal-content {
  background-color: #fefefe;
  margin: 15% auto; /* 15% from the top and centered */
  padding: 20px;
  border: 1px solid #888;
  width: 80%; /* Could be more or less, depending on screen size */
}

/* The Close Button */
.close {
  position: absolute;
  top: 10px;
  right: 30px;
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}
</style> 
</head>
<body>
<nav class="navbar navbar-light bg-light">
	<a class="navbar-brand" href="admin.html">Tersakiti&trade;</a>
	<div id="admin" class="btn-toolbar" role="toolbar" aria-lable="toolbar button" style="display:none;">
		<div class="btn-group mr-2">
			<button class="btn btn-info" onclick="cek('adduserform', true);cek('result', false);" id="adduser">ADD USER</button>
		</div>
		<div class="btn-group mr-2">
			<button class="btn btn-danger" onclick="sign_out()" id="logout">LOGOUT</button>
		</div>
	</div>
</nav>
<div class="alert alert-primary" role="alert" id="success" style="display: none;">
	Error!
</div>
<div class="alert alert-warning" role="alert" id="error" style="display: none;">
	Error!
</div>
<div class="text-center mt-4 mb-4" id="backhome" style="display:none;">
    <button class="btn btn-primary" onclick="open_url('admin.html', false)">Back Home</button>
</div>
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="cek('myModal', false)">&times;</span>
        <h2>User Details</h2>
        <p>Email : <span id="email"></span></p>
        <p>License : <span id="licenseuser"></span></p>
        <p>Join : <span id="joindate"></span></p>
        <p>Expired : <span id="expireddate"></span></p>
        <div id="tmpmail"></div>
    </div>
</div>
<div id="myModalDel" class="modal">
    <div class="modal-content">
        <span class="close" onclick="cek('myModalDel', false)">&times;</span>
        <h2>Are You Sure?</h2>
        <p>Email : <span id="delemail"></span></p>
        <p>License : <span id="dellicenseuser"></span></p>
        <p>Join : <span id="deljoindate"></span></p>
        <p>Expired : <span id="delexpireddate"></span></p>
        <div id="tmpdel"></div>
    </div>
</div>
<div class="container">
	<form id="login" onsubmit="sign_in()" style="display: none;">
		<div class="form-group modal-sm mx-auto">
			<h1 class="text-center">Please sign in</h1>
			<label for="inputEmail" class="mt-2">Email address</label>
			<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
			<label for="inputPassword" class="mt-2">Password</label>
			<input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
			<input  type="button" class="btn btn-primary btn-block mt-2" onclick="sign_in()" value="Sign in">
			<center><p class="mt-3 mb-3 text-muted">Tersakiti&trade; &copy; 2020</p></center>
		</div>
	</form>
	<form id="adduserform" style="display: none;">
		<div class="form-group modal-sm mx-auto">
			<h1 class="text-center">Add User</h1>
			<label for="inputEmailUser" class="mt-2">User Email</label>
			<input type="text" id="inputEmailUser" class="form-control" onkeypress="return event.keyCode != 13" placeholder="Plaease use real email to send license..." required autofocus>
			<input type="button" class="btn btn-primary btn-block mt-2" onclick="add_user(document.getElementById('inputEmailUser').value)" value="Add User">
			<input  type="button" class="btn btn-danger btn-block mt-2" onclick="cek('adduserform', false);cek('result', true);" value="Close">
			<center><p class="mt-3 mb-3 text-muted">Tersakiti&trade; &copy; 2020</p></center>
		</div>
	</form>
	<div class="text-center mt-5" id="wait" style="display: none;">
	  <div class="spinner-border" role="status">
	    <span class="sr-only">Loading...</span>
	  </div>
	</div>
	<div class="table-responsive" style="display: none;" id="result">
		<h1 class="mt-3 mb-3 text-center">User List</h1>
		<table class="table table-bordered" id="userlist">
			<thead>
				<tr>
					<th scope="col">Email <span class="badge badge-pill badge-primary" id="total"></span></th>
					<th scope="col">Last Offline</th>
					<th scope="col">Status <a class="badge badge-pill badge-warning" id="online"></a><a class="badge badge-pill badge-primary ml-2" id="offline"></a></th>
					<th scope="col">Action</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</div>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyDDVcIia4YKDk6HxqloIUHKzq6iEdI7-3w",
    authDomain: "nishimiya-mod.firebaseapp.com",
    databaseURL: "https://nishimiya-mod.firebaseio.com",
    projectId: "nishimiya-mod",
    storageBucket: "nishimiya-mod.appspot.com",
    messagingSenderId: "482433577916",
    appId: "1:482433577916:web:6e0a784e3f1bf32b9071b9",
    measurementId: "G-5VLQEXJWRQ"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
</body>
</html>
